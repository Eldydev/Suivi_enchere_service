(this.webpackJsonpencheres_service=this.webpackJsonpencheres_service||[]).push([[0],{23:function(e,t,n){},27:function(e,t,n){},40:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},78:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n(41),i=n.n(a),c=(n(49),n(15)),r=n(7),o=n(6),l=(n(27),n(13)),d=n.n(l),u=(n(26),n(17)),h=(n(51),n.p,n(0));var j=n(2),p=n(3),b=n(5),v=n(4),m=n(42),O=new(function(){function e(){Object(j.a)(this,e),this.auth0=new m.a.WebAuth({domain:"dev-osr60n63.eu.auth0.com",audience:"https://dev-osr60n63.eu.auth0.com/userinfo",clientID:"AlApRxPDKxfyOsaeAopXCTNk513fKZfY",redirectUri:"https://suivi-encheres-services.fr/callback",responseType:"id_token",scope:"openid profile"}),this.getProfile=this.getProfile.bind(this),this.handleAuthentication=this.handleAuthentication.bind(this),this.isAuthenticated=this.isAuthenticated.bind(this),this.signIn=this.signIn.bind(this),this.signOut=this.signOut.bind(this)}return Object(p.a)(e,[{key:"getProfile",value:function(){return this.profile}},{key:"getIdToken",value:function(){return this.idToken}},{key:"isAuthenticated",value:function(){return(new Date).getTime()<this.expiresAt}},{key:"signIn",value:function(){this.auth0.authorize()}},{key:"handleAuthentication",value:function(){var e=this;return new Promise((function(t,n){e.auth0.parseHash((function(s,a){return s?n(s):a&&a.idToken?(e.idToken=a.idToken,e.profile=a.idTokenPayload,e.expiresAt=1e3*a.idTokenPayload.exp,void t()):n(s)}))}))}},{key:"signOut",value:function(){this.idToken=null,this.profile=null,this.expiresAt=null,this.auth0.logout({returnTo:"https://suivi-encheres-services.fr/",clientID:"AlApRxPDKxfyOsaeAopXCTNk513fKZfY"})}}]),e}()),x=(n(53),n(71),function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(j.a)(this,n),(e=t.call(this)).state={code:"",data:[]},e}return Object(p.a)(n,[{key:"setCode",value:function(e){this.setState({code:e})}},{key:"SearchCode",value:function(){var e=Object(u.a)(d.a.mark((function e(t){var n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("code :",t),e.next=3,fetch("https://api.suivi-encheres-services.fr/suivilaposte/?code="+t).then((function(e){return e.json()})).catch((function(e){return console.error("Error: ",e)})).then((function(e){console.log("Success: ",e),n.setState({data:e})}));case 3:this.MapData();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"MapData",value:function(){if(console.log("data : ",this.state.data),0!==this.state.data.length){var e=this.state.data.body.shipment,t=e.event,n=e.timeline,s="",a="";if(console.log(e),1==e.isFinal)s="oui";else s="non";for(a=0;a<n.length;a++)if(console.log(" i : ",a),console.log("fff :",n[a].status),1==n[a].status){var i=n[a].shortLabel;console.log("yesy :",i)}return Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:["Numero Suivi : ",e.idShip]}),Object(h.jsxs)("p",{children:["Type : ",e.product]}),Object(h.jsxs)("p",{children:["livr\xe9 : ",s]}),Object(h.jsxs)("p",{children:["Status : ",i]}),Object(h.jsxs)("p",{children:["le : ",e.deliveryDate]}),Object(h.jsxs)("p",{children:["recup\xe9r\xe9 : ",""]}),Object(h.jsx)("p",{children:"hsitorique : "}),Object(h.jsx)("div",{className:"",children:t.map((function(e,t){return Object(h.jsxs)("div",{className:"",children:[Object(h.jsxs)("p",{children:["date : ",e.date]}),Object(h.jsxs)("p",{children:["commentaire : ",e.label]})]},t)}))})]})}}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{children:[Object(h.jsx)(f,{}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{placeholder:"code de suivi",onChange:function(t){return e.setCode(t.target.value)}})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:function(t){return e.SearchCode(e.state.code)},children:"Search"})}),Object(h.jsx)("div",{children:this.MapData()})]})}}]),n}(s.Component)),f=(n(72),function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(j.a)(this,n),(e=t.call(this)).signOut=function(){O.signOut(),e.props.history.replace("/")},e.state={},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"NavBar",children:[Object(h.jsx)("div",{children:Object(h.jsx)(r.b,{to:{pathname:"/contact"},children:Object(h.jsx)("button",{children:"CONTACT"})})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:"btn btn-dark",onClick:function(){e.signOut()},children:"DECONNEXION"})}),Object(h.jsx)("div",{children:Object(h.jsx)(r.b,{to:{pathname:"/suivicoli"},children:Object(h.jsx)("button",{children:"API LA POSTE"})})})]})}}]),n}(s.Component));function g(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Dashboard"}),Object(h.jsx)(f,{})]})}function y(){return Object(h.jsx)("h2",{children:"Preferences"})}var C=n(16),S=(n(77),n(78),function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(j.a)(this,n),(e=t.call(this)).state={},e}return Object(p.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{id:"NewContactButton",children:Object(h.jsx)(r.b,{to:{pathname:"/newcontact"},children:Object(h.jsx)("button",{children:" + Ajouter Contact"})})})}}]),n}(s.Component)),A=n(14),k=n(44),N=n.n(k),I={border:"1px solid #ccc",background:"#fff",fontSize:"1em",padding:10,margin:5,width:70},D=function(e){var t=e.itemsperpage,n=e.nocolumns,s=e.items,a=e.pagesspan;return Object(h.jsx)(N.a,{itemsperpage:t,nocolumns:n,items:s,pagesspan:a,children:function(e){var t=e.getBackButtonProps,a=e.getFastBackButtonProps,i=e.getFwdButtonProps,c=e.getFastFwdButtonProps,o=e.getSelPageButtonProps,l=(e.nopages,e.inipagearray),d=e.pagesforarray,u=e.currentpage,j=e.noitems,p=e.initialitem,b=e.lastitem,v=e.goBackBdisabled,m=e.goFastBackBdisabled,O=e.goFwdBdisabled,x=e.goFastFwdBdisabled;return Object(h.jsxs)("tbody",{children:[s.slice(p,b).map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.id}),Object(h.jsx)("td",{children:e.First_Name}),Object(h.jsx)("td",{children:e.Last_Name}),Object(h.jsx)("td",{children:e.Email}),Object(h.jsx)("td",{children:e.Phone}),Object(h.jsx)("td",{className:e.avancement_cmd,children:e.avancement_cmd}),Object(h.jsx)("td",{children:e.Last_Activity_Date}),Object(h.jsx)("td",{className:"viewbutton",children:Object(h.jsx)(r.b,{to:{pathname:"/view-contact-details/".concat(e.id),state:{users:e}},children:Object(h.jsx)("button",{children:"Voir le contact"})})})]},t)})),j>0?[Object(h.jsx)("tr",{children:Object(h.jsxs)("td",{id:"pagin",colSpan:n,style:{textAlign:"center"},children:[Object(h.jsx)("button",Object(A.a)(Object(A.a)({style:I},a()),{},{disabled:m,children:"<<"})),Object(h.jsx)("button",Object(A.a)(Object(A.a)({style:I},t()),{},{disabled:v,children:"<"})),Array.from({length:d},(function(e,t){return t+l})).map((function(e){return Object(h.jsx)("button",Object(A.a)(Object(A.a)({},o({page:e})),{},{disabled:u==e,children:e}),e)})),Object(h.jsx)("button",Object(A.a)(Object(A.a)({style:I},i()),{},{disabled:O,children:">"})),Object(h.jsx)("button",Object(A.a)(Object(A.a)({style:I},c()),{},{disabled:x,children:">>"}))]})},"pagingrow100")]:null]})}})},_=(n(23),function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var s;Object(j.a)(this,n),(s=t.call(this,e)).handlePageClick=function(e){var t=e.selected,n=Math.ceil(t*s.props.perPage);s.setState({offset:n},(function(){s.renderContact()}))},s.state={ContactArray:[],ContactArrayFiltered:[],input:"",filter:"LastName",Cmdfilter:"",itemsperpage:20,nocolumns:50};var a=s.state.ContactArrayFiltered.length/10;return console.log(s.state.pageCount),s.setState({pageCount:a}),s.renderContact=s.renderContact.bind(Object(C.a)(s)),s}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.suivi-encheres-services.fr/v1/get-contact").then((function(e){return e.json()})).catch((function(e){return console.error("Error: ",e)})).then((function(t){console.log("Success: ",t),console.log(t.rows),e.setState({ContactArray:t.rows,ContactArrayFiltered:t.rows,ItemCount:t.rows.length})}))}},{key:"renderContact",value:function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.First_Name}),Object(h.jsx)("td",{children:e.Last_Name}),Object(h.jsx)("td",{children:e.Email}),Object(h.jsx)("td",{children:Object(h.jsxs)("select",{children:[Object(h.jsx)("option",{value:"attente_paiement",children:"attente paiement"}),Object(h.jsx)("option",{value:"pay\xe9",children:"pay\xe9"})]})}),Object(h.jsx)("td",{children:e.Phone}),Object(h.jsx)("td",{children:e.Address_Street}),Object(h.jsx)("td",{children:e.Address_City}),Object(h.jsx)("td",{children:e.Address_State}),Object(h.jsx)("td",{children:e.Address_Zip}),Object(h.jsx)("td",{children:e.Address_Country}),Object(h.jsx)("td",{children:e.Company}),Object(h.jsx)("td",{children:e.Labels}),Object(h.jsx)("td",{children:e.Created_At}),Object(h.jsx)("td",{children:e.Subscription_Status}),Object(h.jsx)("td",{children:e.Last_Activity}),Object(h.jsx)("td",{children:e.Last_Activity_Date}),Object(h.jsx)("td",{children:e.Source}),Object(h.jsx)("td",{children:e.Pays}),Object(h.jsx)("td",{children:e.Code_Postal}),Object(h.jsx)("td",{children:e.Adresse_de_livraison}),Object(h.jsx)("td",{children:e.Date})]},t)}},{key:"setKeyword",value:function(e){var t=this.state.Cmdfilter;if(this.setState({input:e}),""!==t){if("email"==this.state.filter){this.setState({input:e});var n=this.state.ContactArray.filter((function(e){return e.avancement_cmd.includes(t)})).filter((function(t){return t.Email.toUpperCase().includes(e.toUpperCase())}));this.setState({ContactArrayFiltered:n})}if("LastName"==this.state.filter){this.setState({input:e});n=this.state.ContactArray.filter((function(e){return e.avancement_cmd.includes(t)})).filter((function(t){return t.Last_Name.toUpperCase().includes(e.toUpperCase())}));this.setState({ContactArrayFiltered:n})}}else{if("email"==this.state.filter){this.setState({input:e}),console.log("contactarray4filterFirstName",this.state.ContactArray);n=this.state.ContactArray.filter((function(t){return t.Email.toUpperCase().includes(e.toUpperCase())}));this.setState({ContactArrayFiltered:n})}if("LastName"==this.state.filter){this.setState({input:e});n=this.state.ContactArray.filter((function(t){return t.Last_Name.toUpperCase().includes(e.toUpperCase())}));this.setState({ContactArrayFiltered:n})}}}},{key:"Cmdfiltered",value:function(e){if("pay\xe9mdv"==e){console.log("pay\xe9 MDV filter");var t=this.state.ContactArray.filter((function(e){return e.avancement_cmd.includes("pay\xe9_MDV")}));this.setState({ContactArrayFiltered:t}),console.log("ArrayFiltered :",t)}if("r\xe9cup\xe9r\xe9"==e){console.log("R\xe9cup\xe9r\xe9 filter");t=this.state.ContactArray.filter((function(e){return e.avancement_cmd.includes("r\xe9cup\xe9r\xe9")}));this.setState({ContactArrayFiltered:t}),console.log("ArrayFiltered :",t)}if("exp\xe9di\xe9"==e){console.log("exp\xe9di\xe9 filter");t=this.state.ContactArray.filter((function(e){return e.avancement_cmd.includes("Exp\xe9di\xe9")}));this.setState({ContactArrayFiltered:t}),console.log("ArrayFiltered :",t)}}},{key:"ChangeBackground",value:function(e){console.log("CB : ",e)}},{key:"ChangeFilter",value:function(e){console.log("ChangeFilter :",e),"FirstName"==e&&this.setState({filter:"FirstName"}),"email"==e&&this.setState({filter:"email"})}},{key:"ChangeCmdFilter",value:function(e){"pay\xe9mdv"==e&&(this.setState({Cmdfilter:"pay\xe9_MDV"}),this.Cmdfiltered("pay\xe9mdv")),"r\xe9cup\xe9r\xe9"==e&&(this.setState({Cmdfilter:"r\xe9cup\xe9r\xe9"}),this.Cmdfiltered("r\xe9cup\xe9r\xe9")),"exp\xe9di\xe9"==e&&(this.setState({Cmdfilter:"Exp\xe9di\xe9"}),this.Cmdfiltered("exp\xe9di\xe9"))}},{key:"render",value:function(){var e=this;return console.log(this.state.input),0!==this.state.ContactArray.length?(console.log("lenght : ",this.state.ContactArray.length),console.log("page",this.state.pageCount),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Contact"}),Object(h.jsx)(f,{}),Object(h.jsx)(S,{}),Object(h.jsxs)("div",{id:"Contactfilterbox",children:[Object(h.jsxs)("select",{className:"contactfilters",onChange:function(t){return e.ChangeCmdFilter(t.target.value)},children:[Object(h.jsx)("option",{value:"empty",children:"Statut commande"}),Object(h.jsx)("option",{value:"pay\xe9mdv",children:"Pay\xe9 MDV"}),Object(h.jsx)("option",{value:"r\xe9cup\xe9r\xe9",children:"R\xe9cup\xe9r\xe9"}),Object(h.jsx)("option",{value:"exp\xe9di\xe9",children:"Exp\xe9di\xe9"})]}),Object(h.jsxs)("select",{className:"contactfilters",onChange:function(t){return e.ChangeFilter(t.target.value)},children:[Object(h.jsx)("option",{value:"LastName",children:"Nom"}),Object(h.jsx)("option",{value:"email",children:"Email"})]}),Object(h.jsx)("input",{id:"filterinput",value:this.state.input,placeholder:"search name",onChange:function(t){return e.setKeyword(t.target.value)}},"random1")]}),Object(h.jsxs)("table",{id:"ContactTable",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{id:"testid",children:"id"}),Object(h.jsx)("td",{children:"Pr\xe9nom"}),Object(h.jsx)("td",{children:"Nom"}),Object(h.jsx)("td",{children:"mail"}),Object(h.jsx)("td",{children:"tel"}),Object(h.jsx)("td",{children:"statut commande"}),Object(h.jsx)("td",{children:"Date derni\xe8re activit\xe9e"})]})}),Object(h.jsx)(D,{itemsperpage:this.state.itemsperpage,nocolumns:this.state.nocolumns,items:this.state.ContactArrayFiltered,pagesspan:4})]})]})):Object(h.jsx)("div",{children:Object(h.jsx)("h2",{children:"Loading ..."})})}}]),n}(s.Component)),E=(n(40),function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(j.a)(this,n),(e=t.call(this)).state={},e}return Object(p.a)(n,[{key:"Confirm",value:function(){document.getElementById("ConfirmNewContact").style.display="none"}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{id:"ConfirmNewContact",children:[Object(h.jsx)("p",{children:"Contact Cr\xe9\xe9"}),Object(h.jsx)(r.b,{to:{pathname:"/contact"},children:Object(h.jsx)("button",{onClick:function(t){return e.Confirm()},children:"OK"})})]})}}]),n}(s.Component)),P=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(j.a)(this,n),(e=t.call(this)).state={ADL:!1,checkbox:!1,nom:"","pr\xe9nom":"",email:"",tel:"","soci\xe9t\xe9":"",rue:"",ville:"",cp:"",pays:"",rueadl:"",villeadl:"",cpadl:"",paysadl:""},e.handleInputChange=e.handleInputChange.bind(Object(C.a)(e)),e}return Object(p.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,s=t.name;this.setState(Object(c.a)({},s,n))}},{key:"handleChangecheckbox",value:function(e){var t=document.getElementById("ADL"),n=this.state.checkbox;0==n&&(t.style.display="flex",this.setState({checkbox:!0})),1==n&&(t.style.display="none",this.setState({checkbox:!1}))}},{key:"CreatContact",value:function(){var e=new Date;e=e.toLocaleDateString("en-CA",{timezone:"Europe/Paris",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",hour12:!1,minute:"2-digit",second:"2-digit"}),console.log(e),e=(e=(e=e.toString(e)).replaceAll("/","-")).replace(",",""),console.log(e);var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nom:this.state.nom,"pr\xe9nom":this.state.pr\u00e9nom,email:this.state.email,tel:this.state.tel,"soci\xe9t\xe9":this.state.soci\u00e9t\u00e9,rue:this.state.rue,ville:this.state.ville,cp:this.state.cp,pays:this.state.pays,rueadl:this.state.rueadl,villeadl:this.state.villeadl,cpadl:this.state.cpadl,paysadl:this.state.paysadl,date:e})};fetch("https://api.suivi-encheres-services.fr/v1/create-contact",t).then(console.log("body: ",t)).then((function(e){return e.json()})).then((function(e){console.log(e),"succes"==e.result&&(document.getElementById("ConfirmNewContact").style.display="block")}))}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{children:[Object(h.jsx)(f,{}),Object(h.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(h.jsxs)("label",{children:["Nom:",Object(h.jsx)("input",{name:"nom",type:"textarea",value:this.state.value,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{children:["Pr\xe9nom:",Object(h.jsx)("input",{name:"pr\xe9nom",type:"textarea",value:this.state.value,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{children:["Email:",Object(h.jsx)("input",{name:"email",type:"textarea",value:this.state.value,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{children:["tel:",Object(h.jsx)("input",{name:"tel",type:"textarea",value:this.state.value,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{children:["Soci\xe9t\xe9:",Object(h.jsx)("input",{name:"soci\xe9t\xe9",type:"textarea",value:this.state.value,onChange:this.handleInputChange})]}),Object(h.jsx)("p",{children:"Adresse"}),Object(h.jsxs)("label",{children:["Rue:",Object(h.jsx)("input",{name:"rue",type:"textarea",value:this.state.value,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{children:["Ville:",Object(h.jsx)("input",{name:"ville",type:"textarea",value:this.state.value,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{children:["Code Postal:",Object(h.jsx)("input",{name:"cp",type:"textarea",value:this.state.value,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{children:["pays:",Object(h.jsx)("input",{name:"pays",type:"textarea",value:this.state.value,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{className:"ADL",children:["l'Adressede livraison est-elle diff\xe9rente de l'adresse de contact ?",Object(h.jsx)("input",{id:"checkboxADL",className:"ADL",name:"ADL",type:"checkbox",value:this.state.value,onChange:function(t){return e.handleChangecheckbox(t)}})]}),Object(h.jsxs)("div",{id:"ADL",children:[Object(h.jsx)("p",{className:"ADL",children:"Adresse de livraison"}),Object(h.jsxs)("label",{className:"ADL",children:["Rue:",Object(h.jsx)("input",{className:"ADL",name:"rueadl",type:"textarea",value:this.state.value,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{className:"ADL",children:["Ville:",Object(h.jsx)("input",{className:"ADL",name:"villeadl",type:"textarea",value:this.state.value,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{className:"ADL",children:["Code Postal:",Object(h.jsx)("input",{className:"ADL",name:"cpadl",type:"textarea",value:this.state.value,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{className:"ADL",children:["pays:",Object(h.jsx)("input",{className:"ADL",name:"paysadl",type:"textarea",value:this.state.value,onChange:this.handleInputChange})]})]}),Object(h.jsx)("input",{id:"CFB",type:"button",value:"Envoyer",onClick:function(t){return e.CreatContact()}})]}),Object(h.jsx)(E,{})]})}}]),n}(s.Component),M=(n(92),function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var s;return Object(j.a)(this,n),(s=t.call(this,e)).state={status:"",id:""},s}return Object(p.a)(n,[{key:"UpdateStatus",value:function(e,t){var n=new Date;n=n.toLocaleDateString("en-CA",{timezone:"Europe/Paris",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",hour12:!1,minute:"2-digit",second:"2-digit"}),console.log(n),n=(n=(n=n.toString(n)).replaceAll("/","-")).replace(",",""),console.log(n),console.log("status :",e),console.log("id :",t);var s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e,id:t,date:n})};fetch("https://api.suivi-encheres-services.fr/v1/update-status",s).then(console.log("body: ",s)).then((function(e){return e.json()})).then((function(e){return console.log(e)})).then(document.getElementById("ConfirmStatus").style.display="block")}},{key:"render",value:function(){return Object(h.jsx)("div",{})}}]),n}(s.Component)),L=(n(93),function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var s;return Object(j.a)(this,n),(s=t.call(this,e)).state={mail:"",to:"aurelien@spatiality.fr",subject:"",text:"",id:s.props.userid},s}return Object(p.a)(n,[{key:"Confirm",value:function(e,t){this.setState({subject:e}),this.setState({text:t}),document.querySelector(".ConfirmPopup").style.display="block"}},{key:"SendMail",value:function(){var e=this.props.mail,t=this.props.status;console.log("mail is :",e);var n=this.state.subject,s=this.state.text;s=s.replaceAll("\n","<br>"),console.log("test : ",s);var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:this.state.to,subject:n,text:s})};fetch("https://api.suivi-encheres-services.fr/v1/text-mail",a).then(console.log("body: ",a)).then((function(e){return e.json()})).then((function(e){return console.log(e)})),document.querySelector(".ConfirmPopup").style.display="none",this.UpdateUserStatus(t)}},{key:"UpdateUserStatus",value:function(e){var t=this.state.id;this.refs.statuscmd.UpdateStatus(e,t)}},{key:"Cancel",value:function(){document.querySelector(".ConfirmPopup").style.display="none"}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"ConfirmPopup",children:[Object(h.jsx)("p",{children:"etes vous s\xfbr de vouloir envoyer le mail ?"}),Object(h.jsxs)("p",{children:["\xe0 ",this.props.mail]}),Object(h.jsxs)("p",{children:["objet : ",this.state.subject]}),Object(h.jsxs)("p",{children:["texte : ",this.state.text]}),Object(h.jsx)("button",{onClick:function(t){return e.SendMail()},children:"ENVOYER"}),Object(h.jsx)("button",{onClick:function(t){return e.Cancel()},children:"ANNULER"})]}),Object(h.jsx)("div",{children:Object(h.jsx)(M,{ref:"statuscmd"})})]})}}]),n}(s.Component)),B=(n(94),function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var s;return Object(j.a)(this,n),(s=t.call(this,e)).handleMdvChange=function(e){console.log("mdv.js : ",e);var t=s.state.MDVArray[e-1];s.props.onSelectMdv(t),s.setmdv(t)},s.state={MDVArray:[],id:s.props.userid},s}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.suivi-encheres-services.fr/mdvlist").then((function(e){return e.json()})).catch((function(e){return console.error("Error: ",e)})).then((function(t){console.log("Success: ",t),console.log(t.rows),e.setState({MDVArray:t.rows})})),this.MDVMapping()}},{key:"setmdv",value:function(e){console.log("setmdv : mdv : ",e);e=e.id;var t=this.state.id,n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,mdv:e})};fetch("https://api.suivi-encheres-services.fr/v1/update-mdv",n).then(console.log("body: ",n)).then((function(e){return e.json()})).catch((function(e){return console.error("Error: ",e)})).then((function(e){console.log("Success: ",e)}))}},{key:"MDVMapping",value:function(){var e=this,t=this.state.MDVArray;return console.log("mdv : ",t),Object(h.jsx)("div",{className:"",children:Object(h.jsxs)("select",{onChange:function(t){return e.handleMdvChange(t.target.value)},children:[Object(h.jsx)("option",{children:"choisissez une maison de vente"}),t.map((function(e,t){return Object(h.jsxs)("option",{value:e.id,children:[e.nom," - ",e.ville," - ",e.designation]},t)}))]})})}},{key:"render",value:function(){return Object(h.jsx)("div",{id:"MDVlist",children:this.MDVMapping()})}}]),n}(s.Component)),w=(n(95),function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var s;return Object(j.a)(this,n),(s=t.call(this,e)).state={num:"",id:s.props.userid,status:s.props.cmd},s}return Object(p.a)(n,[{key:"componentDidMount",value:function(){"r\xe9cup\xe9r\xe9"===this.state.status&&this.EnterNum()}},{key:"EnterNum",value:function(){document.querySelector(".SuiviNumBox").style.display="block"}},{key:"SetNumber",value:function(e){this.setState({num:e})}},{key:"UpdateNumber",value:function(){console.log("number :",this.state.num),console.log("id :",this.state.id);var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({num:this.state.num,id:this.state.id})};fetch("https://api.suivi-encheres-services.fr/v1/update-number",e).then(console.log("body: ",e)).then((function(e){return e.json()})).then((function(e){return console.log(e)})),this.hidebox()}},{key:"hidebox",value:function(){document.querySelector(".SuiviNumBox").style.display="none"}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"SuiviNumBox",children:[Object(h.jsx)("label",{for:"number",children:"Entrez le numero de suivi :"}),Object(h.jsx)("input",{type:"text",onChange:function(t){return e.SetNumber(t.target.value)}}),Object(h.jsx)("button",{onClick:function(t){return e.UpdateNumber()},children:"Valider"})]})}}]),n}(s.Component)),F=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(j.a)(this,n),(e=t.call(this)).state={},e}return Object(p.a)(n,[{key:"Confirm",value:function(){document.getElementById("ConfirmStatus").style.display="none"}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{id:"ConfirmStatus",children:[Object(h.jsx)("p",{children:"votre mise \xe0 jour de statut a bien \xe9t\xe9 prise en compte et votre client a re\xe7u l'information du passage prochain de www.Ench\xe8res-services.fr chez la maison de vente pour r\xe9cup\xe9rer son lot"}),Object(h.jsx)(r.b,{to:{pathname:"/contact"},children:Object(h.jsx)("button",{onClick:function(t){return e.Confirm()},children:"OK"})})]})}}]),n}(s.Component),V=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(j.a)(this,n),(e=t.call(this)).state={},e}return Object(p.a)(n,[{key:"Confirm",value:function(){document.getElementById("UCF").style.display="block"}},{key:"render",value:function(){var e=this;return Object(h.jsx)("div",{id:"UpdateContactButton",children:Object(h.jsx)("button",{onClick:function(t){return e.Confirm()},children:" Modifier Contact"})})}}]),n}(s.Component),T=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(j.a)(this,n),(e=t.call(this)).state={},e}return Object(p.a)(n,[{key:"Confirm",value:function(){document.getElementById("ConfirmUpdateContact").style.display="none",document.getElementById("UCF").style.display="none"}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{id:"ConfirmUpdateContact",children:[Object(h.jsx)("p",{children:"Contact Mis \xe0 Jour"}),Object(h.jsx)(r.b,{to:{pathname:"/contact"},children:Object(h.jsx)("button",{onClick:function(t){return e.Confirm()},children:"OK"})})]})}}]),n}(s.Component),U=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(e){var s;return Object(j.a)(this,n),(s=t.call(this,e)).state={nom:s.props.contact.Last_Name,"pr\xe9nom":s.props.contact.First_Name,email:s.props.contact.Email,tel:s.props.contact.Phone,"soci\xe9t\xe9":s.props.contact.Company,rue:s.props.contact.Address_Street,ville:s.props.contact.Address_City,cp:s.props.contact.Address_Zip,pays:s.props.contact.Address_Country,rueadl:s.props.contact.Adresse_de_livraison,villeadl:s.props.contact.VILLE_LIVRAISON,cpadl:s.props.contact.code_postal_LIVRAISON,paysadl:s.props.contact.PAYS_LIVRAISON,id:s.props.contact.id},s.handleInputChange=s.handleInputChange.bind(Object(C.a)(s)),s}return Object(p.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,s=t.name;this.setState(Object(c.a)({},s,n))}},{key:"UpdateContact",value:function(){var e=new Date;e=e.toLocaleDateString("en-CA",{timezone:"Europe/Paris",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",hour12:!1,minute:"2-digit",second:"2-digit"}),console.log(e),e=(e=(e=e.toString(e)).replaceAll("/","-")).replace(",",""),console.log(e);var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nom:this.state.nom,"pr\xe9nom":this.state.pr\u00e9nom,email:this.state.email,tel:this.state.tel,"soci\xe9t\xe9":this.state.soci\u00e9t\u00e9,rue:this.state.rue,ville:this.state.ville,cp:this.state.cp,pays:this.state.pays,rueadl:this.state.rueadl,villeadl:this.state.villeadl,cpadl:this.state.cpadl,paysadl:this.state.paysadl,date:e,id:this.state.id})};fetch("https://api.suivi-encheres-services.fr/v1/update-contact",t).then(console.log("body: ",t)).then((function(e){return e.json()})).then((function(e){console.log(e),"succes"==e.result&&(document.getElementById("ConfirmUpdateContact").style.display="block")}))}},{key:"render",value:function(){var e=this;return console.log(this.props.contact),console.log("updateContactform props",this.state),Object(h.jsxs)("div",{id:"UCF",children:[Object(h.jsx)("h2",{children:"MODIFIER CONTACT"}),Object(h.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(h.jsxs)("label",{children:["Nom:",Object(h.jsx)("input",{name:"nom",type:"textarea",value:this.state.nom,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{children:["Pr\xe9nom:",Object(h.jsx)("input",{name:"pr\xe9nom",type:"textarea",value:this.state.pr\u00e9nom,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{children:["Email:",Object(h.jsx)("input",{name:"email",type:"textarea",value:this.state.email,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{children:["tel:",Object(h.jsx)("input",{name:"tel",type:"textarea",value:this.state.tel,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{children:["Soci\xe9t\xe9:",Object(h.jsx)("input",{name:"soci\xe9t\xe9",type:"textarea",value:this.state.soci\u00e9t\u00e9,onChange:this.handleInputChange})]}),Object(h.jsx)("p",{children:"Adresse"}),Object(h.jsxs)("label",{children:["Rue:",Object(h.jsx)("input",{name:"rue",type:"textarea",value:this.state.rue,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{children:["Ville:",Object(h.jsx)("input",{name:"ville",type:"textarea",value:this.state.ville,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{children:["Code Postal:",Object(h.jsx)("input",{name:"cp",type:"textarea",value:this.state.cp,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{children:["pays:",Object(h.jsx)("input",{name:"pays",type:"textarea",value:this.state.pays,onChange:this.handleInputChange})]}),Object(h.jsx)("p",{children:"Adresse de livraison"}),Object(h.jsxs)("label",{children:["Rue:",Object(h.jsx)("input",{name:"rueadl",type:"textarea",value:this.state.value,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{children:["Ville:",Object(h.jsx)("input",{name:"villeadl",type:"textarea",value:this.state.value,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{children:["Code Postal:",Object(h.jsx)("input",{name:"cpadl",type:"textarea",value:this.state.value,onChange:this.handleInputChange})]}),Object(h.jsxs)("label",{children:["pays:",Object(h.jsx)("input",{name:"paysadl",type:"textarea",value:this.state.value,onChange:this.handleInputChange})]}),Object(h.jsx)("input",{id:"CUFB",type:"button",value:"Mettre \xe0 Jour",onClick:function(t){return e.UpdateContact()}})]}),Object(h.jsx)(T,{})]})}}]),n}(s.Component),R=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(j.a)(this,n),(e=t.call(this)).handleMdv=function(t){console.log("mdvchoose :",t),e.setState({mdv:t})},e.state={user:[],object:"",text:"",mdv:[],numsuivi:"",status:"",id_mdv:""},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.state.users.id;console.log("loc",t);var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})};fetch("https://api.suivi-encheres-services.fr/v1/get-MDV",n).then(console.log("body: ",n)).then((function(e){return e.json()})).catch((function(e){return console.error("Error: ",e)})).then((function(t){console.log("get-mdv - Success: ",t);var n=t.rows[0].id_MDV;e.displayMDV(n)}))}},{key:"displayMDV",value:function(e){""!==e&&(document.getElementById("MDVlist").style.display="none")}},{key:"ChangeStatus",value:function(e,t,n,s){var a=this;console.log("mdv :",n),console.log("status :",e),this.setState({status:e});if("pay\xe9_MDV"==e&&this.settextPmdv(e,t,n,s),"r\xe9cup\xe9r\xe9"==e&&this.settextRec(e,t,n,s),"Exp\xe9di\xe9"==e){console.log("state: user :",this.state.user);var i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s})};fetch("https://api.suivi-encheres-services.fr/v1/get-number",i).then(console.log("body: ",i)).then((function(e){return e.json()})).catch((function(e){return console.error("Error: ",e)})).then((function(i){console.log("Success: ",i),console.log(i.rows[0].Numsuivi),a.setState({numsuivi:i.rows[0].Numsuivi}),a.settextExp(e,t,n,s)}))}}},{key:"settextExp",value:function(e,t,n,s){console.log("numEXP",this.state.numsuivi);var a="Bonjour Mme / Mr, "+t+",\n\nNous vous confirmons l'exp\xe9dition de votre / vos lots du bordereau xxxx sous le num\xe9ro de suivi transporteur Colissimo La Poste suivant :  N\xb0 de suivi = "+this.state.numsuivi+"\n\nVous pouvez suivre son acheminement sous le num\xe9ro de suivi suivant via le lien https://www.laposte.fr/outils/suivre-vos-envois \n\nNous vous en souhaitons bonne r\xe9ception,\n\nBien cordialement,\n\nSignature ES",i="Mise \xe0 jour de votre statut de commande \xe0 EXPEDIE";this.setState({text:a}),this.setState({object:i}),console.log(i),console.log(a),this.refs.mail.Confirm(i,a)}},{key:"settextPmdv",value:function(e,t,n,s){console.log("numPMVD",this.state.numsuivi);var a="Bonjour Mme / Mr "+t+",\n\nNous vous remercions pour votre paiement et votre confiance.\n\nNous allons nous rapprocher de la Maison "+n.nom+" \xe0 "+n.ville+" et organiser le retrait du bordereau XXXX en date du XXXX concern\xe9 par votre demande.\n\n(nous vous rappelons que nous ne pouvons proc\xe9der au retrait  qu'\xe0 la condition de la r\xe9ception de votre paiement par l'h\xf4tel des ventes).\n\nNous vous tiendrons inform\xe9 du suivi de votre demande.Bien cordialement,\n\nSignature ES",i="Mise \xe0 jour de votre statut de commande";this.setState({text:a}),this.setState({object:i}),console.log(i),console.log(a),this.refs.mail.Confirm(i,a)}},{key:"settextRec",value:function(e,t,n,s){var a="Bonjour Mme / Mr "+t+",\n\nNous avons bien r\xe9cup\xe9r\xe9 votre lot correspondant au Bordereau n\xb0xxxx aupr\xe8s de la maison de vente "+n.nom+" \xe0 "+n.ville+"\n\nNous allons nous proc\xe9der \xe0 l'emballage de votre bien avec attention et  vous tiendrons inform\xe9 de son exp\xe9dition ou sa livraison.\n\nBien cordialement,\n\nSignature ES",i="Mise \xe0 jour de votre statut de commande \xe0 RECUPERE";this.setState({text:a}),this.setState({object:i}),console.log(i),console.log(a),this.refs.mail.Confirm(i,a)}},{key:"render",value:function(){var e=this,t=this.props.location.state;return Object(h.jsxs)("div",{children:[Object(h.jsx)(f,{}),Object(h.jsx)(V,{}),Object(h.jsxs)("div",{id:"ContactInfoBox",children:[Object(h.jsx)("h2",{children:"Informations"}),Object(h.jsxs)("div",{id:"ContactInfoBox3",children:[Object(h.jsxs)("div",{id:"ContactInfoBox2",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Id:"})," ",t.users.id," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Pr\xe9nom:"})," ",t.users.First_Name," ",Object(h.jsx)("strong",{children:"Nom:"})," ",t.users.Last_Name," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Email:"})," ",t.users.Email," ",Object(h.jsx)("strong",{children:"tel:"})," ",t.users.Phone," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Soci\xe9t\xe9:"})," ",t.users.Company," ",Object(h.jsx)("strong",{children:"Cr\xe9\xe9 le:"})," ",t.users.Created_At," "]})]}),Object(h.jsxs)("div",{id:"ContactInfoBox4",children:[Object(h.jsx)("strong",{children:"Status Commande:"})," ",t.users.avancement_cmd," ",Object(h.jsx)("strong",{children:"date de la derni\xe8re activit\xe9e:"})," ",t.users.Last_Activity_Date," "]})]})]}),Object(h.jsxs)("div",{id:"ContactInfoBox5",children:[Object(h.jsxs)("div",{id:"ContactInfoBox6",children:[Object(h.jsx)("h2",{children:"Adresse"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Rue:"})," ",t.users.Address_Street," ",Object(h.jsx)("strong",{children:"Ville:"})," ",t.users.Address_City," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Zip:"})," ",t.users.Address_Zip," ",Object(h.jsx)("strong",{children:"Pays:"})," ",t.users.Address_State," "]})]})]}),Object(h.jsxs)("div",{id:"ContactInfoBox7",children:[Object(h.jsx)("h2",{children:"Adresse de livraison"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Adresse de livraison:"})," ",t.users.Adresse_de_livraison," ",Object(h.jsx)("strong",{children:"Ville de livraisone:"})," ",t.users.VILLE_LIVRAISON," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Code postal de livraison:"})," ",t.users.Code_postal_LIVRAISON," ",Object(h.jsx)("strong",{children:"Pays de livraison:"})," ",t.users.PAYS_LIVRAISON," "]})]})]})]}),Object(h.jsx)("div",{children:Object(h.jsx)(B,{onSelectMdv:this.handleMdv,ref:"mdvlist",userid:t.users.id})}),Object(h.jsx)("div",{children:Object(h.jsxs)("select",{onChange:function(n){return e.ChangeStatus(n.target.value,t.users.Last_Name,e.state.mdv,t.users.id)},children:[Object(h.jsx)("option",{value:"dafault",children:"choississez un status"}),Object(h.jsx)("option",{value:"pay\xe9_MDV",children:"pay\xe9 MDV"}),Object(h.jsx)("option",{value:"r\xe9cup\xe9r\xe9",children:"r\xe9cup\xe9r\xe9"}),Object(h.jsx)("option",{value:"Exp\xe9di\xe9",children:"Exp\xe9di\xe9"})]})}),Object(h.jsx)("div",{children:Object(h.jsx)(w,{ref:"numsuivi",userid:t.users.id,cmd:t.users.avancement_cmd})}),Object(h.jsx)(L,{ref:"mail",mail:t.users.Email,object:this.state.object,text:this.state.text,status:this.state.status,userid:t.users.id}),Object(h.jsx)(F,{}),Object(h.jsx)(U,{ref:"updatecontact",contact:t.users})]})}}]),n}(s.Component),X=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.handleAuthentication();case 2:this.props.history.replace("/");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(h.jsx)("p",{children:"Loading profile..."})}}]),n}(s.Component),J=Object(o.f)(X),z=(n.p,function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){O.isAuthenticated()||O.signIn()}},{key:"render",value:function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)("header",{className:"App-header",children:[Object(h.jsx)(f,{}),O.isAuthenticated()&&Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{className:"mr-2 text-white",children:O.getProfile().name}),Object(h.jsx)("br",{})]})]})})}}]),n}(s.Component));var K=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("h1",{children:"Application"}),Object(h.jsx)(r.a,{children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,Object(c.a)({exact:!0,path:"/",component:z},"exact",!0)),Object(h.jsx)(o.a,Object(c.a)({exact:!0,path:"/callback",component:J},"exact",!0)),Object(h.jsx)(o.a,{path:"/dashboard",children:Object(h.jsx)(g,{})}),Object(h.jsx)(o.a,{path:"/preferences",children:Object(h.jsx)(y,{})}),Object(h.jsx)(o.a,{path:"/contact",children:Object(h.jsx)(_,{})}),Object(h.jsx)(o.a,{path:"/mail",children:Object(h.jsx)(L,{})}),Object(h.jsx)(o.a,{path:"/suivicoli",children:Object(h.jsx)(x,{})}),Object(h.jsx)(o.a,{path:"/mdvlist",children:Object(h.jsx)(B,{})}),Object(h.jsx)(o.a,{path:"/numsuivi",children:Object(h.jsx)(w,{})}),Object(h.jsx)(o.a,{path:"/newcontact",children:Object(h.jsx)(P,{})}),Object(h.jsx)(o.a,{exact:!0,path:"/view-contact-details/:id",component:R})]})})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,97)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),i(e),c(e)}))};i.a.render(Object(h.jsx)(r.a,{children:Object(h.jsx)(K,{})}),document.getElementById("root")),q()}},[[96,1,2]]]);
//# sourceMappingURL=main.9aab3864.chunk.js.map