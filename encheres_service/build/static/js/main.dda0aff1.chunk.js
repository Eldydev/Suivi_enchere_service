(this.webpackJsonpencheres_service=this.webpackJsonpencheres_service||[]).push([[0],{26:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},71:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var s=n(1),i=n(39),c=n.n(i),r=(n(48),n(17)),o=n(11),a=n(2),l=(n(26),n(14)),d=n.n(l),u=(n(25),n(18)),j=(n(50),n.p,n(0));var h=n(4),b=n(5),p=n(7),O=n(6),x=(n(52),function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"NavBar",children:[Object(j.jsx)("div",{children:Object(j.jsx)(o.b,{to:{pathname:"/contact"},children:Object(j.jsx)("button",{children:"Contact"})})}),Object(j.jsx)("div",{children:Object(j.jsx)(o.b,{to:{pathname:"/dashboard"},children:Object(j.jsx)("button",{children:"dashboard"})})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{children:"button 3"})})]})}}]),n}(s.Component));function v(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Dashboard"}),Object(j.jsx)(x,{})]})}function f(){return Object(j.jsx)("h2",{children:"Preferences"})}var m=n(20),g=(n(57),n(13)),y=n(41),C=n.n(y),A={border:"1px solid #ccc",background:"#fff",fontSize:"1em",padding:10,margin:5,width:70},k=function(e){var t=e.itemsperpage,n=e.nocolumns,s=e.items,i=e.pagesspan;return Object(j.jsx)(C.a,{itemsperpage:t,nocolumns:n,items:s,pagesspan:i,children:function(e){var t=e.getBackButtonProps,i=e.getFastBackButtonProps,c=e.getFwdButtonProps,r=e.getFastFwdButtonProps,a=e.getSelPageButtonProps,l=(e.nopages,e.inipagearray),d=e.pagesforarray,u=e.currentpage,h=e.noitems,b=e.initialitem,p=e.lastitem,O=e.goBackBdisabled,x=e.goFastBackBdisabled,v=e.goFwdBdisabled,f=e.goFastFwdBdisabled;return Object(j.jsxs)("tbody",{children:[s.slice(b,p).map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.id}),Object(j.jsx)("td",{children:e.First_Name}),Object(j.jsx)("td",{children:e.Last_Name}),Object(j.jsx)("td",{children:e.Email}),Object(j.jsx)("td",{children:e.Phone}),Object(j.jsx)("td",{children:Object(j.jsxs)("select",{children:[Object(j.jsx)("option",{value:"attente_paiement",children:"attente paiement"}),Object(j.jsx)("option",{value:"pay\xe9",children:"pay\xe9"})]})}),Object(j.jsx)("td",{children:Object(j.jsx)(o.b,{to:{pathname:"/view-contact-details/".concat(e.id),state:{users:e}},children:Object(j.jsx)("button",{children:"View"})})})]},t)})),h>0?[Object(j.jsx)("tr",{children:Object(j.jsxs)("td",{colSpan:n,style:{textAlign:"center"},children:[Object(j.jsx)("button",Object(g.a)(Object(g.a)({style:A},i()),{},{disabled:x,children:"<<"})),Object(j.jsx)("button",Object(g.a)(Object(g.a)({style:A},t()),{},{disabled:O,children:"<"})),Array.from({length:d},(function(e,t){return t+l})).map((function(e){return Object(j.jsx)("button",Object(g.a)(Object(g.a)({},a({page:e})),{},{disabled:u==e,children:e}),e)})),Object(j.jsx)("button",Object(g.a)(Object(g.a)({style:A},c()),{},{disabled:v,children:">"})),Object(j.jsx)("button",Object(g.a)(Object(g.a)({style:A},r()),{},{disabled:f,children:">>"}))]})},"pagingrow100")]:null]})}})},S=(n(71),function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(e){var s;Object(h.a)(this,n),(s=t.call(this,e)).handlePageClick=function(e){var t=e.selected,n=Math.ceil(t*s.props.perPage);s.setState({offset:n},(function(){s.renderContact()}))},s.state={ContactArray:[],ContactArrayFiltered:[],input:"",filter:"FirstName",itemsperpage:20,nocolumns:50};var i=s.state.ContactArrayFiltered.length/10;return console.log(s.state.pageCount),s.setState({pageCount:i}),s.renderContact=s.renderContact.bind(Object(m.a)(s)),s}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.suivi-encheres-services.fr/contact").then((function(e){return e.json()})).catch((function(e){return console.error("Error: ",e)})).then((function(t){console.log("Success: ",t),console.log(t.rows),e.setState({ContactArray:t.rows,ContactArrayFiltered:t.rows,ItemCount:t.rows.length})}))}},{key:"renderContact",value:function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.First_Name}),Object(j.jsx)("td",{children:e.Last_Name}),Object(j.jsx)("td",{children:e.Email}),Object(j.jsx)("td",{children:Object(j.jsxs)("select",{children:[Object(j.jsx)("option",{value:"attente_paiement",children:"attente paiement"}),Object(j.jsx)("option",{value:"pay\xe9",children:"pay\xe9"})]})}),Object(j.jsx)("td",{children:e.Phone}),Object(j.jsx)("td",{children:e.Address_Street}),Object(j.jsx)("td",{children:e.Address_City}),Object(j.jsx)("td",{children:e.Address_State}),Object(j.jsx)("td",{children:e.Address_Zip}),Object(j.jsx)("td",{children:e.Address_Country}),Object(j.jsx)("td",{children:e.Company}),Object(j.jsx)("td",{children:e.Labels}),Object(j.jsx)("td",{children:e.Created_At}),Object(j.jsx)("td",{children:e.Subscription_Status}),Object(j.jsx)("td",{children:e.Last_Activity}),Object(j.jsx)("td",{children:e.Last_Activity_Date}),Object(j.jsx)("td",{children:e.Source}),Object(j.jsx)("td",{children:e.Pays}),Object(j.jsx)("td",{children:e.Code_Postal}),Object(j.jsx)("td",{children:e.Adresse_de_livraison}),Object(j.jsx)("td",{children:e.Date})]},t)}},{key:"setKeyword",value:function(e){if(console.log(e),console.log(this.state.filter),console.log(this.state.ContactArray),this.setState({input:e}),"FirstName"==this.state.filter){console.log("Firstname filter"),this.setState({input:e}),console.log(this.state.ContactArray);var t=this.state.ContactArray.filter((function(t){return t.First_Name.toUpperCase().includes(e.toUpperCase())}));this.setState({ContactArrayFiltered:t}),console.log(t)}if("LastName"==this.state.filter){this.setState({input:e});t=this.state.ContactArray.filter((function(t){return t.Last_Name.toUpperCase().includes(e.toUpperCase())}));this.setState({ContactArrayFiltered:t}),console.log(t)}}},{key:"ChangeBackground",value:function(e){console.log("CB : ",e)}},{key:"ChangeFilter",value:function(e){console.log("ChangeFilter :",e),"FirstName"==e&&this.setState({filter:"FirstName"}),"LastName"==e&&this.setState({filter:"LastName"})}},{key:"render",value:function(){var e=this;return console.log(this.state.input),0!==this.state.ContactArray.length?(console.log("lenght : ",this.state.ContactArray.length),console.log("page",this.state.pageCount),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Contact"}),Object(j.jsx)(x,{}),Object(j.jsxs)("select",{onChange:function(t){return e.ChangeFilter(t.target.value)},children:[Object(j.jsx)("option",{value:"FirstName",children:"Pr\xe9nom"}),Object(j.jsx)("option",{value:"LastName",children:"Nom"})]}),Object(j.jsx)("input",{style:_,value:this.state.input,placeholder:"search name",onChange:function(t){return e.setKeyword(t.target.value)}},"random1"),Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"id"}),Object(j.jsx)("td",{children:"Pr\xe9nom"}),Object(j.jsx)("td",{children:"Nom"}),Object(j.jsx)("td",{children:"mail"}),Object(j.jsx)("td",{children:"tel"}),Object(j.jsx)("td",{children:"paiement"})]})}),Object(j.jsx)(k,{itemsperpage:this.state.itemsperpage,nocolumns:this.state.nocolumns,items:this.state.ContactArrayFiltered,pagesspan:4})]})]})):Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading ..."})})}}]),n}(s.Component)),_={width:"20rem",background:"#F2F1F9",border:"none",padding:"0.5rem"},N=S,P=n(42),F=n.n(P),w=(n(89),function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={code:""},e}return Object(b.a)(n,[{key:"setCode",value:function(e){this.setState({code:e})}},{key:"SearchCode",value:function(e){console.log("code :",this.state.code),fetch("https://api.laposte.fr/suivi/v2/idships/1A00915820380",{headers:{Accept:"application/json","X-Okapi-Key":"3JjphFmg4VUo72z5JrQI8m0AIp00nNHXmbKTusLQDuHiaDt4MxlbSKojOyywXlBM"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error: ",e)})).then((function(e){console.log("Success: ",e)}))}},{key:"test",value:function(){console.log("test fucntion"),F.a.get("https://api.laposte.fr/suivi/v2/idships/1A00915820380",{headers:{Accept:"application/json","X-Okapi-Key":"3JjphFmg4VUo72z5JrQI8m0AIp00nNHXmbKTusLQDuHiaDt4MxlbSKojOyywXlBM"}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsx)("input",{placeholder:"code de suivi",onChange:function(t){return e.setCode(t.target.value)}})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{onClick:function(t){return e.SearchCode(e.state.code)},children:"Search"})})]})}}]),n}(s.Component)),B=(n(90),function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={mail:"",to:"aurelien@spatiality.fr",subject:"",text:""},e}return Object(b.a)(n,[{key:"Confirm",value:function(e,t){this.setState({subject:e}),this.setState({text:t}),document.querySelector(".ConfirmPopup").style.display="block"}},{key:"SendMail",value:function(){var e=this.props.mail;console.log("mail is :",e);var t=this.state.subject,n=this.state.text,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:this.state.to,subject:t,text:n})};fetch("https://api.suivi-encheres-services.fr/v1/text-mail",s).then(console.log("body: ",s)).then((function(e){return e.json()})).then((function(e){return console.log(e)})),document.querySelector(".ConfirmPopup").style.display="none"}},{key:"Cancel",value:function(){document.querySelector(".ConfirmPopup").style.display="none"}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:this.props.mail}),Object(j.jsx)("button",{onClick:function(t){return e.Confirm(e.props.object,e.props.text)},children:"Mail"})]}),Object(j.jsxs)("div",{className:"ConfirmPopup",children:[Object(j.jsx)("p",{children:"etes vous s\xfbr de vouloir envoyer le mail ?"}),Object(j.jsxs)("p",{children:["\xe0 ",this.props.mail]}),Object(j.jsxs)("p",{children:["objet : ",this.state.subject]}),Object(j.jsxs)("p",{children:["texte : ",this.state.text]}),Object(j.jsx)("button",{onClick:function(t){return e.SendMail()},children:"SEND"}),Object(j.jsx)("button",{onClick:function(t){return e.Cancel()},children:"CANCEL"})]})]})}}]),n}(s.Component)),D=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={user:[],object:"",text:""},e}return Object(b.a)(n,[{key:"ChangeStatus",value:function(e,t){console.log("status :",e);var n="";if("pay\xe9_MDV"==e){n="Bonjour Mr "+t+",\nNous vous remercions pour votre paiement et votre confiance.\nNous allons nous rapprocher de la Maison xxxx et organiser le retrait du bordereau XXXX en date du XXXX concern\xe9 par votre demande.\n(nous vous rappelons que nous ne pouvons proc\xe9der au retrait  qu'\xe0 la condition de la r\xe9ception de votre paiement par l'h\xf4tel des ventes),\nNous vous tiendrons inform\xe9 du suivi de votre demande.Bien cordialement,\nSignature ES";var s="status updated to pay\xe9 MDV"}if("r\xe9cup\xe9r\xe9"==e)n="Bonjour Mr "+t+",\nNous avons bien r\xe9cup\xe9r\xe9 votre lot correspondant au Bordereau n\xb0xxxx aupr\xe8s de la maison de vente xxxx,\nNous allons nous proc\xe9der \xe0 l'emballage de votre bien avec attention et  vous tiendrons inform\xe9 de son exp\xe9dition ou sa livraison.\nBien cordialement,\nSignature ES",s="status updated to r\xe9cup\xe9r\xe9";if("En_cour_de_traitement"==e)n="traitement txt",s="status updated to en cour de traitement";if("Exp\xe9di\xe9"==e)n="Bonjour Mr, "+t+",\nNous vous confirmons l'exp\xe9dition de votre / vos lots du bordereau xxxx sous le num\xe9ro de suivi transporteur Colissimo La Poste suivant :  N\xb0 de suivi =  8A00054163416\nVous pouvez suivre son acheminement sous le num\xe9ro de suivi suivant via le lien https://www.laposte.fr/outils/suivre-vos-envois?code=8A00054163416 (ent\xeate colonne NOSUIVI)\nNous vous en souhaitons bonne r\xe9ception,\nBien cordialement,Signature ES",s="status updated to exp\xe9di\xe9";this.setState({text:n}),this.setState({object:s}),console.log(s),console.log(n)}},{key:"render",value:function(){var e=this,t=this.props.location.state;return Object(j.jsxs)("div",{children:[Object(j.jsx)(x,{}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Id:"})," ",t.users.id," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Pr\xe9nom:"})," ",t.users.First_Name," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Nom:"})," ",t.users.Last_Name," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Email:"})," ",t.users.Email," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"tel:"})," ",t.users.Phone," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Rue:"})," ",t.users.Address_Street," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Ville:"})," ",t.users.Address_City," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Etat:"})," ",t.users.Address_State," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Zip:"})," ",t.users.Address_Zip," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Pays:"})," ",t.users.Address_Country," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Soci\xe9t\xe9:"})," ",t.users.Company," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"label:"})," ",t.users.Labels," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Cr\xe9\xe9 le:"})," ",t.users.Created_At," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Etat abo.:"})," ",t.users.Subscription_Status," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Derniere activit\xe9e:"})," ",t.users.Last_Activity," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Date derniere activit\xe9e:"})," ",t.users.Last_Activity_Date," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Source:"})," ",t.users.Source," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Contact.Pays:"})," ",t.users.Pays," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Contact.CP:"})," ",t.users.Code_Postal," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Adresse de livraison:"})," ",t.users.Adresse_de_livraison," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Contact.date:"})," ",t.users.Date," "]}),Object(j.jsx)("div",{children:Object(j.jsxs)("select",{onChange:function(n){return e.ChangeStatus(n.target.value,t.users.Last_Name)},children:[Object(j.jsx)("option",{value:"dafault",children:"choississez un status"}),Object(j.jsx)("option",{value:"pay\xe9_MDV",children:"pay\xe9 MDV"}),Object(j.jsx)("option",{value:"r\xe9cup\xe9r\xe9",children:"r\xe9cup\xe9r\xe9"}),Object(j.jsx)("option",{value:"En_cour_de_traitement",children:"En cours de traitement"}),Object(j.jsx)("option",{value:"Exp\xe9di\xe9",children:"Exp\xe9di\xe9"})]})}),Object(j.jsx)(w,{}),Object(j.jsx)(B,{mail:t.users.Email,object:this.state.object,text:this.state.text})]})}}]),n}(s.Component),L=n(43),E=new(function(){function e(){Object(h.a)(this,e),this.auth0=new L.a.WebAuth({domain:"dev-osr60n63.eu.auth0.com",audience:"https://dev-osr60n63.eu.auth0.com/userinfo",clientID:"AlApRxPDKxfyOsaeAopXCTNk513fKZfY",redirectUri:"https://suivi-encheres-services.fr/callback",responseType:"id_token",scope:"openid profile"}),this.getProfile=this.getProfile.bind(this),this.handleAuthentication=this.handleAuthentication.bind(this),this.isAuthenticated=this.isAuthenticated.bind(this),this.signIn=this.signIn.bind(this),this.signOut=this.signOut.bind(this)}return Object(b.a)(e,[{key:"getProfile",value:function(){return this.profile}},{key:"getIdToken",value:function(){return this.idToken}},{key:"isAuthenticated",value:function(){return(new Date).getTime()<this.expiresAt}},{key:"signIn",value:function(){this.auth0.authorize()}},{key:"handleAuthentication",value:function(){var e=this;return new Promise((function(t,n){e.auth0.parseHash((function(s,i){return s?n(s):i&&i.idToken?(e.idToken=i.idToken,e.profile=i.idTokenPayload,e.expiresAt=1e3*i.idTokenPayload.exp,void t()):n(s)}))}))}},{key:"signOut",value:function(){this.idToken=null,this.profile=null,this.expiresAt=null,this.auth0.logout({returnTo:"https://suivi-encheres-services.fr/",clientID:"AlApRxPDKxfyOsaeAopXCTNk513fKZfY"})}}]),e}()),M=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.handleAuthentication();case 2:this.props.history.replace("/");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(j.jsx)("p",{children:"Loading profile..."})}}]),n}(s.Component),T=Object(a.f)(M),I=(n.p,function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(h.a)(this,n);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).signOut=function(){E.signOut(),e.props.history.replace("/")},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){E.isAuthenticated()||E.signIn()}},{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)("header",{className:"App-header",children:[Object(j.jsx)(x,{}),E.isAuthenticated()&&Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{className:"mr-2 text-white",children:E.getProfile().name}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{className:"btn btn-dark",onClick:function(){e.signOut()},children:"Sign Out"})]})]})})}}]),n}(s.Component));var X=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h1",{children:"Application"}),Object(j.jsx)(o.a,{children:Object(j.jsxs)(a.c,{children:[Object(j.jsx)(a.a,Object(r.a)({exact:!0,path:"/",component:I},"exact",!0)),Object(j.jsx)(a.a,Object(r.a)({exact:!0,path:"/callback",component:T},"exact",!0)),Object(j.jsx)(a.a,{path:"/dashboard",children:Object(j.jsx)(v,{})}),Object(j.jsx)(a.a,{path:"/preferences",children:Object(j.jsx)(f,{})}),Object(j.jsx)(a.a,{path:"/contact",children:Object(j.jsx)(N,{})}),Object(j.jsx)(a.a,{path:"/mail",children:Object(j.jsx)(B,{})}),Object(j.jsx)(a.a,{exact:!0,path:"/view-contact-details/:id",component:D})]})})]})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,92)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),i(e),c(e),r(e)}))};c.a.render(Object(j.jsx)(o.a,{children:Object(j.jsx)(X,{})}),document.getElementById("root")),K()}},[[91,1,2]]]);
//# sourceMappingURL=main.dda0aff1.chunk.js.map