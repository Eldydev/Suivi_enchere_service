(this.webpackJsonpencheres_service=this.webpackJsonpencheres_service||[]).push([[0],{26:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var s=n(1),i=n(39),r=n.n(i),c=(n(47),n(18)),o=n(8),a=n(6),l=(n(26),n(13)),d=n.n(l),u=(n(25),n(15)),h=(n(49),n.p,n(0));var j=n(2),b=n(3),p=n(5),v=n(4),O=n(40),f=new(function(){function e(){Object(j.a)(this,e),this.auth0=new O.a.WebAuth({domain:"dev-osr60n63.eu.auth0.com",audience:"https://dev-osr60n63.eu.auth0.com/userinfo",clientID:"AlApRxPDKxfyOsaeAopXCTNk513fKZfY",redirectUri:"https://suivi-encheres-services.fr/callback",responseType:"id_token",scope:"openid profile"}),this.getProfile=this.getProfile.bind(this),this.handleAuthentication=this.handleAuthentication.bind(this),this.isAuthenticated=this.isAuthenticated.bind(this),this.signIn=this.signIn.bind(this),this.signOut=this.signOut.bind(this)}return Object(b.a)(e,[{key:"getProfile",value:function(){return this.profile}},{key:"getIdToken",value:function(){return this.idToken}},{key:"isAuthenticated",value:function(){return(new Date).getTime()<this.expiresAt}},{key:"signIn",value:function(){this.auth0.authorize()}},{key:"handleAuthentication",value:function(){var e=this;return new Promise((function(t,n){e.auth0.parseHash((function(s,i){return s?n(s):i&&i.idToken?(e.idToken=i.idToken,e.profile=i.idTokenPayload,e.expiresAt=1e3*i.idTokenPayload.exp,void t()):n(s)}))}))}},{key:"signOut",value:function(){this.idToken=null,this.profile=null,this.expiresAt=null,this.auth0.logout({returnTo:"https://suivi-encheres-services.fr/",clientID:"AlApRxPDKxfyOsaeAopXCTNk513fKZfY"})}}]),e}()),m=(n(51),n(69),function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(j.a)(this,n),(e=t.call(this)).state={code:"",data:[]},e}return Object(b.a)(n,[{key:"setCode",value:function(e){this.setState({code:e})}},{key:"SearchCode",value:function(){var e=Object(u.a)(d.a.mark((function e(t){var n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("code :",t),e.next=3,fetch("https://api.suivi-encheres-services.fr/suivilaposte/?code="+t).then((function(e){return e.json()})).catch((function(e){return console.error("Error: ",e)})).then((function(e){console.log("Success: ",e),n.setState({data:e})}));case 3:this.MapData();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"MapData",value:function(){if(console.log("data : ",this.state.data),0!==this.state.data.length){var e=this.state.data.body.shipment,t=e.event,n=e.timeline,s="",i="";if(console.log(e),1==e.isFinal)s="oui";else s="non";for(i=0;i<n.length;i++)if(console.log(" i : ",i),console.log("fff :",n[i].status),1==n[i].status){var r=n[i].shortLabel;console.log("yesy :",r)}return Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:["Numero Suivi : ",e.idShip]}),Object(h.jsxs)("p",{children:["Type : ",e.product]}),Object(h.jsxs)("p",{children:["livr\xe9 : ",s]}),Object(h.jsxs)("p",{children:["Status : ",r]}),Object(h.jsxs)("p",{children:["le : ",e.deliveryDate]}),Object(h.jsxs)("p",{children:["recup\xe9r\xe9 : ",""]}),Object(h.jsx)("p",{children:"hsitorique : "}),Object(h.jsx)("div",{className:"",children:t.map((function(e,t){return Object(h.jsxs)("div",{className:"",children:[Object(h.jsxs)("p",{children:["date : ",e.date]}),Object(h.jsxs)("p",{children:["commentaire : ",e.label]})]},t)}))})]})}}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{children:[Object(h.jsx)(x,{}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{placeholder:"code de suivi",onChange:function(t){return e.setCode(t.target.value)}})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:function(t){return e.SearchCode(e.state.code)},children:"Search"})}),Object(h.jsx)("div",{children:this.MapData()})]})}}]),n}(s.Component)),x=(n(70),function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(j.a)(this,n),(e=t.call(this)).signOut=function(){f.signOut(),e.props.history.replace("/")},e.state={},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"NavBar",children:[Object(h.jsx)("div",{children:Object(h.jsx)(o.b,{to:{pathname:"/contact"},children:Object(h.jsx)("button",{children:"CONTACT"})})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:"btn btn-dark",onClick:function(){e.signOut()},children:"DECONNEXION"})}),Object(h.jsx)("div",{children:Object(h.jsx)(o.b,{to:{pathname:"/suivicoli"},children:Object(h.jsx)("button",{children:"API LA POSTE"})})})]})}}]),n}(s.Component));function g(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Dashboard"}),Object(h.jsx)(x,{})]})}function y(){return Object(h.jsx)("h2",{children:"Preferences"})}var C=n(20),S=(n(75),n(14)),A=n(42),k=n.n(A),N={border:"1px solid #ccc",background:"#fff",fontSize:"1em",padding:10,margin:5,width:70},_=function(e){var t=e.itemsperpage,n=e.nocolumns,s=e.items,i=e.pagesspan;return Object(h.jsx)(k.a,{itemsperpage:t,nocolumns:n,items:s,pagesspan:i,children:function(e){var t=e.getBackButtonProps,i=e.getFastBackButtonProps,r=e.getFwdButtonProps,c=e.getFastFwdButtonProps,a=e.getSelPageButtonProps,l=(e.nopages,e.inipagearray),d=e.pagesforarray,u=e.currentpage,j=e.noitems,b=e.initialitem,p=e.lastitem,v=e.goBackBdisabled,O=e.goFastBackBdisabled,f=e.goFwdBdisabled,m=e.goFastFwdBdisabled;return Object(h.jsxs)("tbody",{children:[s.slice(b,p).map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.id}),Object(h.jsx)("td",{children:e.First_Name}),Object(h.jsx)("td",{children:e.Last_Name}),Object(h.jsx)("td",{children:e.Email}),Object(h.jsx)("td",{children:e.Phone}),Object(h.jsx)("td",{className:e.avancement_cmd,children:e.avancement_cmd}),Object(h.jsx)("td",{className:"viewbutton",children:Object(h.jsx)(o.b,{to:{pathname:"/view-contact-details/".concat(e.id),state:{users:e}},children:Object(h.jsx)("button",{children:"Voir le contact"})})})]},t)})),j>0?[Object(h.jsx)("tr",{children:Object(h.jsxs)("td",{id:"pagin",colSpan:n,style:{textAlign:"center"},children:[Object(h.jsx)("button",Object(S.a)(Object(S.a)({style:N},i()),{},{disabled:O,children:"<<"})),Object(h.jsx)("button",Object(S.a)(Object(S.a)({style:N},t()),{},{disabled:v,children:"<"})),Array.from({length:d},(function(e,t){return t+l})).map((function(e){return Object(h.jsx)("button",Object(S.a)(Object(S.a)({},a({page:e})),{},{disabled:u==e,children:e}),e)})),Object(h.jsx)("button",Object(S.a)(Object(S.a)({style:N},r()),{},{disabled:f,children:">"})),Object(h.jsx)("button",Object(S.a)(Object(S.a)({style:N},c()),{},{disabled:m,children:">>"}))]})},"pagingrow100")]:null]})}})},P=(n(89),function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e){var s;Object(j.a)(this,n),(s=t.call(this,e)).handlePageClick=function(e){var t=e.selected,n=Math.ceil(t*s.props.perPage);s.setState({offset:n},(function(){s.renderContact()}))},s.state={ContactArray:[],ContactArrayFiltered:[],input:"",filter:"FirstName",Cmdfilter:"",itemsperpage:20,nocolumns:50};var i=s.state.ContactArrayFiltered.length/10;return console.log(s.state.pageCount),s.setState({pageCount:i}),s.renderContact=s.renderContact.bind(Object(C.a)(s)),s}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.suivi-encheres-services.fr/v1/get-contact").then((function(e){return e.json()})).catch((function(e){return console.error("Error: ",e)})).then((function(t){console.log("Success: ",t),console.log(t.rows),e.setState({ContactArray:t.rows,ContactArrayFiltered:t.rows,ItemCount:t.rows.length})}))}},{key:"renderContact",value:function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.First_Name}),Object(h.jsx)("td",{children:e.Last_Name}),Object(h.jsx)("td",{children:e.Email}),Object(h.jsx)("td",{children:Object(h.jsxs)("select",{children:[Object(h.jsx)("option",{value:"attente_paiement",children:"attente paiement"}),Object(h.jsx)("option",{value:"pay\xe9",children:"pay\xe9"})]})}),Object(h.jsx)("td",{children:e.Phone}),Object(h.jsx)("td",{children:e.Address_Street}),Object(h.jsx)("td",{children:e.Address_City}),Object(h.jsx)("td",{children:e.Address_State}),Object(h.jsx)("td",{children:e.Address_Zip}),Object(h.jsx)("td",{children:e.Address_Country}),Object(h.jsx)("td",{children:e.Company}),Object(h.jsx)("td",{children:e.Labels}),Object(h.jsx)("td",{children:e.Created_At}),Object(h.jsx)("td",{children:e.Subscription_Status}),Object(h.jsx)("td",{children:e.Last_Activity}),Object(h.jsx)("td",{children:e.Last_Activity_Date}),Object(h.jsx)("td",{children:e.Source}),Object(h.jsx)("td",{children:e.Pays}),Object(h.jsx)("td",{children:e.Code_Postal}),Object(h.jsx)("td",{children:e.Adresse_de_livraison}),Object(h.jsx)("td",{children:e.Date})]},t)}},{key:"setKeyword",value:function(e){var t=this.state.Cmdfilter;if(console.log("input :",e),console.log("filter :",t),console.log("contactArray :",this.state.ContactArray),console.log("firstName",this.state.ContactArray.avancement_cmd),this.setState({input:e}),""!==t){if("FirstName"==this.state.filter){console.log("Firstname filterlol"),this.setState({input:e}),console.log("contactarray4filterFirstNamelol",this.state.ContactArrayFiltered);var n=this.state.ContactArray.filter((function(e){return e.avancement_cmd.includes(t)})).filter((function(t){return t.First_Name.toUpperCase().includes(e.toUpperCase())}));this.setState({ContactArrayFiltered:n}),console.log("ArrayFilteredlol :",n)}if("LastName"==this.state.filter){this.setState({input:e}),console.log("Lastname filter");n=this.state.ContactArray.filter((function(e){return e.avancement_cmd.includes(t)})).filter((function(t){return t.Last_Name.toUpperCase().includes(e.toUpperCase())}));this.setState({ContactArrayFiltered:n}),console.log("ArrayFiltered :",n)}}else{if("FirstName"==this.state.filter){console.log("Firstname filter"),this.setState({input:e}),console.log("contactarray4filterFirstName",this.state.ContactArray);n=this.state.ContactArray.filter((function(t){return t.First_Name.toUpperCase().includes(e.toUpperCase())}));this.setState({ContactArrayFiltered:n}),console.log("ArrayFiltered :",n)}if("LastName"==this.state.filter){this.setState({input:e}),console.log("Lastname filter");n=this.state.ContactArray.filter((function(t){return t.Last_Name.toUpperCase().includes(e.toUpperCase())}));this.setState({ContactArrayFiltered:n}),console.log("ArrayFiltered :",n)}}}},{key:"Cmdfiltered",value:function(e){if("pay\xe9mdv"==e){console.log("pay\xe9 MDV filter");var t=this.state.ContactArray.filter((function(e){return e.avancement_cmd.includes("pay\xe9_MDV")}));this.setState({ContactArrayFiltered:t}),console.log("ArrayFiltered :",t)}if("r\xe9cup\xe9r\xe9"==e){console.log("R\xe9cup\xe9r\xe9 filter");t=this.state.ContactArray.filter((function(e){return e.avancement_cmd.includes("r\xe9cup\xe9r\xe9")}));this.setState({ContactArrayFiltered:t}),console.log("ArrayFiltered :",t)}if("exp\xe9di\xe9"==e){console.log("exp\xe9di\xe9 filter");t=this.state.ContactArray.filter((function(e){return e.avancement_cmd.includes("Exp\xe9di\xe9")}));this.setState({ContactArrayFiltered:t}),console.log("ArrayFiltered :",t)}}},{key:"ChangeBackground",value:function(e){console.log("CB : ",e)}},{key:"ChangeFilter",value:function(e){console.log("ChangeFilter :",e),"FirstName"==e&&this.setState({filter:"FirstName"}),"LastName"==e&&this.setState({filter:"LastName"})}},{key:"ChangeCmdFilter",value:function(e){"pay\xe9mdv"==e&&(this.setState({Cmdfilter:"pay\xe9_MDV"}),this.Cmdfiltered("pay\xe9mdv")),"r\xe9cup\xe9r\xe9"==e&&(this.setState({Cmdfilter:"r\xe9cup\xe9r\xe9"}),this.Cmdfiltered("r\xe9cup\xe9r\xe9")),"exp\xe9di\xe9"==e&&(this.setState({Cmdfilter:"Exp\xe9di\xe9"}),this.Cmdfiltered("exp\xe9di\xe9"))}},{key:"render",value:function(){var e=this;return console.log(this.state.input),0!==this.state.ContactArray.length?(console.log("lenght : ",this.state.ContactArray.length),console.log("page",this.state.pageCount),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Contact"}),Object(h.jsx)(x,{}),Object(h.jsxs)("div",{id:"Contactfilterbox",children:[Object(h.jsxs)("select",{className:"contactfilters",onChange:function(t){return e.ChangeCmdFilter(t.target.value)},children:[Object(h.jsx)("option",{value:"empty",children:"Statut commande"}),Object(h.jsx)("option",{value:"pay\xe9mdv",children:"Pay\xe9 MDV"}),Object(h.jsx)("option",{value:"r\xe9cup\xe9r\xe9",children:"R\xe9cup\xe9r\xe9"}),Object(h.jsx)("option",{value:"exp\xe9di\xe9",children:"Exp\xe9di\xe9"})]}),Object(h.jsxs)("select",{className:"contactfilters",onChange:function(t){return e.ChangeFilter(t.target.value)},children:[Object(h.jsx)("option",{value:"FirstName",children:"Pr\xe9nom"}),Object(h.jsx)("option",{value:"LastName",children:"Nom"})]}),Object(h.jsx)("input",{id:"filterinput",value:this.state.input,placeholder:"search name",onChange:function(t){return e.setKeyword(t.target.value)}},"random1")]}),Object(h.jsxs)("table",{id:"ContactTable",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{id:"testid",children:"id"}),Object(h.jsx)("td",{children:"Pr\xe9nom"}),Object(h.jsx)("td",{children:"Nom"}),Object(h.jsx)("td",{children:"mail"}),Object(h.jsx)("td",{children:"tel"}),Object(h.jsx)("td",{children:"statut commande"})]})}),Object(h.jsx)(_,{itemsperpage:this.state.itemsperpage,nocolumns:this.state.nocolumns,items:this.state.ContactArrayFiltered,pagesspan:4})]})]})):Object(h.jsx)("div",{children:Object(h.jsx)("h2",{children:"Loading ..."})})}}]),n}(s.Component)),M=(n(90),function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e){var s;return Object(j.a)(this,n),(s=t.call(this,e)).state={status:"",id:""},s}return Object(b.a)(n,[{key:"UpdateStatus",value:function(e,t){console.log("status :",e),console.log("id :",t);var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e,id:t})};fetch("https://api.suivi-encheres-services.fr/v1/update-status",n).then(console.log("body: ",n)).then((function(e){return e.json()})).then((function(e){return console.log(e)})).then(document.getElementById("ConfirmStatus").style.display="block")}},{key:"render",value:function(){return Object(h.jsx)("div",{})}}]),n}(s.Component)),F=(n(91),function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e){var s;return Object(j.a)(this,n),(s=t.call(this,e)).state={mail:"",to:"aurelien@spatiality.fr",subject:"",text:"",id:s.props.userid},s}return Object(b.a)(n,[{key:"Confirm",value:function(e,t){this.setState({subject:e}),this.setState({text:t}),document.querySelector(".ConfirmPopup").style.display="block"}},{key:"SendMail",value:function(){var e=this.props.mail,t=this.props.status;console.log("mail is :",e);var n=this.state.subject,s=this.state.text;s=s.replaceAll("\n","<br>"),console.log("test : ",s);var i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:this.state.to,subject:n,text:s})};fetch("https://api.suivi-encheres-services.fr/v1/text-mail",i).then(console.log("body: ",i)).then((function(e){return e.json()})).then((function(e){return console.log(e)})),document.querySelector(".ConfirmPopup").style.display="none",this.UpdateUserStatus(t)}},{key:"UpdateUserStatus",value:function(e){var t=this.state.id;this.refs.statuscmd.UpdateStatus(e,t)}},{key:"Cancel",value:function(){document.querySelector(".ConfirmPopup").style.display="none"}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"ConfirmPopup",children:[Object(h.jsx)("p",{children:"etes vous s\xfbr de vouloir envoyer le mail ?"}),Object(h.jsxs)("p",{children:["\xe0 ",this.props.mail]}),Object(h.jsxs)("p",{children:["objet : ",this.state.subject]}),Object(h.jsxs)("p",{children:["texte : ",this.state.text]}),Object(h.jsx)("button",{onClick:function(t){return e.SendMail()},children:"ENVOYER"}),Object(h.jsx)("button",{onClick:function(t){return e.Cancel()},children:"ANNULER"})]}),Object(h.jsx)("div",{children:Object(h.jsx)(M,{ref:"statuscmd"})})]})}}]),n}(s.Component)),D=(n(92),function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e){var s;return Object(j.a)(this,n),(s=t.call(this,e)).handleMdvChange=function(e){console.log("mdv.js : ",e);var t=s.state.MDVArray[e-1];s.props.onSelectMdv(t),s.setmdv(t)},s.state={MDVArray:[],id:s.props.userid},s}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.suivi-encheres-services.fr/mdvlist").then((function(e){return e.json()})).catch((function(e){return console.error("Error: ",e)})).then((function(t){console.log("Success: ",t),console.log(t.rows),e.setState({MDVArray:t.rows})})),this.MDVMapping()}},{key:"setmdv",value:function(e){console.log("setmdv : mdv : ",e);e=e.id;var t=this.state.id,n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,mdv:e})};fetch("https://api.suivi-encheres-services.fr/v1/update-mdv",n).then(console.log("body: ",n)).then((function(e){return e.json()})).catch((function(e){return console.error("Error: ",e)})).then((function(e){console.log("Success: ",e)}))}},{key:"MDVMapping",value:function(){var e=this,t=this.state.MDVArray;return console.log("mdv : ",t),Object(h.jsx)("div",{className:"",children:Object(h.jsxs)("select",{onChange:function(t){return e.handleMdvChange(t.target.value)},children:[Object(h.jsx)("option",{children:"choisissez une maison de vente"}),t.map((function(e,t){return Object(h.jsxs)("option",{value:e.id,children:[e.nom," - ",e.ville," - ",e.designation]},t)}))]})})}},{key:"render",value:function(){return Object(h.jsx)("div",{id:"MDVlist",children:this.MDVMapping()})}}]),n}(s.Component)),E=(n(93),function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e){var s;return Object(j.a)(this,n),(s=t.call(this,e)).state={num:"",id:s.props.userid,status:s.props.cmd},s}return Object(b.a)(n,[{key:"componentDidMount",value:function(){"r\xe9cup\xe9r\xe9"===this.state.status&&this.EnterNum()}},{key:"EnterNum",value:function(){document.querySelector(".SuiviNumBox").style.display="block"}},{key:"SetNumber",value:function(e){this.setState({num:e})}},{key:"UpdateNumber",value:function(){console.log("number :",this.state.num),console.log("id :",this.state.id);var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({num:this.state.num,id:this.state.id})};fetch("https://api.suivi-encheres-services.fr/v1/update-number",e).then(console.log("body: ",e)).then((function(e){return e.json()})).then((function(e){return console.log(e)})),this.hidebox()}},{key:"hidebox",value:function(){document.querySelector(".SuiviNumBox").style.display="none"}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"SuiviNumBox",children:[Object(h.jsx)("label",{for:"number",children:"Entrez le numero de suivi :"}),Object(h.jsx)("input",{type:"text",onChange:function(t){return e.SetNumber(t.target.value)}}),Object(h.jsx)("button",{onClick:function(t){return e.UpdateNumber()},children:"Valider"})]})}}]),n}(s.Component)),w=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(j.a)(this,n),(e=t.call(this)).state={},e}return Object(b.a)(n,[{key:"Confirm",value:function(){document.getElementById("ConfirmStatus").style.display="none"}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{id:"ConfirmStatus",children:[Object(h.jsx)("p",{children:"votre mise \xe0 jour de statut a bien \xe9t\xe9 prise en compte et votre client a re\xe7u l'information du passage prochain de www.Ench\xe8res-services.fr chez la maison de vente pour r\xe9cup\xe9rer son lot"}),Object(h.jsx)(o.b,{to:{pathname:"/contact"},children:Object(h.jsx)("button",{onClick:function(t){return e.Confirm()},children:"OK"})})]})}}]),n}(s.Component),T=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(j.a)(this,n),(e=t.call(this)).handleMdv=function(t){console.log("mdvchoose :",t),e.setState({mdv:t})},e.state={user:[],object:"",text:"",mdv:[],numsuivi:"",status:"",id_mdv:""},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.state.users.id;console.log("loc",t);var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})};fetch("https://api.suivi-encheres-services.fr/v1/get-MDV",n).then(console.log("body: ",n)).then((function(e){return e.json()})).catch((function(e){return console.error("Error: ",e)})).then((function(t){console.log("get-mdv - Success: ",t);var n=t.rows[0].id_MDV;e.displayMDV(n)}))}},{key:"displayMDV",value:function(e){""!==e&&(document.getElementById("MDVlist").style.display="none")}},{key:"ChangeStatus",value:function(e,t,n,s){var i=this;console.log("mdv :",n),console.log("status :",e),this.setState({status:e});if("pay\xe9_MDV"==e&&this.settextPmdv(e,t,n,s),"r\xe9cup\xe9r\xe9"==e&&this.settextRec(e,t,n,s),"Exp\xe9di\xe9"==e){console.log("state: user :",this.state.user);var r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s})};fetch("https://api.suivi-encheres-services.fr/v1/get-number",r).then(console.log("body: ",r)).then((function(e){return e.json()})).catch((function(e){return console.error("Error: ",e)})).then((function(r){console.log("Success: ",r),console.log(r.rows[0].Numsuivi),i.setState({numsuivi:r.rows[0].Numsuivi}),i.settextExp(e,t,n,s)}))}}},{key:"settextExp",value:function(e,t,n,s){console.log("numEXP",this.state.numsuivi);var i="Bonjour Mme / Mr, "+t+",\n\nNous vous confirmons l'exp\xe9dition de votre / vos lots du bordereau xxxx sous le num\xe9ro de suivi transporteur Colissimo La Poste suivant :  N\xb0 de suivi = "+this.state.numsuivi+"\n\nVous pouvez suivre son acheminement sous le num\xe9ro de suivi suivant via le lien https://www.laposte.fr/outils/suivre-vos-envois \n\nNous vous en souhaitons bonne r\xe9ception,\n\nBien cordialement,\n\nSignature ES",r="Mise \xe0 jour de votre statut de commande \xe0 EXPEDIE";this.setState({text:i}),this.setState({object:r}),console.log(r),console.log(i),this.refs.mail.Confirm(r,i)}},{key:"settextPmdv",value:function(e,t,n,s){console.log("numPMVD",this.state.numsuivi);var i="Bonjour Mme / Mr "+t+",\n\nNous vous remercions pour votre paiement et votre confiance.\n\nNous allons nous rapprocher de la Maison "+n.nom+" ("+n.designation+") \xe0 "+n.ville+" et organiser le retrait du bordereau XXXX en date du XXXX concern\xe9 par votre demande.\n\n(nous vous rappelons que nous ne pouvons proc\xe9der au retrait  qu'\xe0 la condition de la r\xe9ception de votre paiement par l'h\xf4tel des ventes).\n\nNous vous tiendrons inform\xe9 du suivi de votre demande.Bien cordialement,\n\nSignature ES",r="Mise \xe0 jour de votre statut de commande \xe0 PAYE MDV";this.setState({text:i}),this.setState({object:r}),console.log(r),console.log(i),this.refs.mail.Confirm(r,i)}},{key:"settextRec",value:function(e,t,n,s){var i="Bonjour Mme / Mr "+t+",\n\nNous avons bien r\xe9cup\xe9r\xe9 votre lot correspondant au Bordereau n\xb0xxxx aupr\xe8s de la maison de vente "+n.nom+" ("+n.designation+") \xe0 "+n.ville+"\n\nNous allons nous proc\xe9der \xe0 l'emballage de votre bien avec attention et  vous tiendrons inform\xe9 de son exp\xe9dition ou sa livraison.\n\nBien cordialement,\n\nSignature ES",r="Mise \xe0 jour de votre statut de commande \xe0 RECUPERE";this.setState({text:i}),this.setState({object:r}),console.log(r),console.log(i),this.refs.mail.Confirm(r,i)}},{key:"render",value:function(){var e=this,t=this.props.location.state;return Object(h.jsxs)("div",{children:[Object(h.jsx)(x,{}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Id:"})," ",t.users.id," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Pr\xe9nom:"})," ",t.users.First_Name," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Nom:"})," ",t.users.Last_Name," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Email:"})," ",t.users.Email," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"tel:"})," ",t.users.Phone," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Rue:"})," ",t.users.Address_Street," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Ville:"})," ",t.users.Address_City," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Etat:"})," ",t.users.Address_State," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Zip:"})," ",t.users.Address_Zip," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Pays:"})," ",t.users.Address_Country," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Soci\xe9t\xe9:"})," ",t.users.Company," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"label:"})," ",t.users.Labels," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Cr\xe9\xe9 le:"})," ",t.users.Created_At," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Etat abo.:"})," ",t.users.Subscription_Status," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Derniere activit\xe9e:"})," ",t.users.Last_Activity," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Date derniere activit\xe9e:"})," ",t.users.Last_Activity_Date," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Source:"})," ",t.users.Source," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Contact.Pays:"})," ",t.users.Pays," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Contact.CP:"})," ",t.users.Code_Postal," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Adresse de livraison:"})," ",t.users.Adresse_de_livraison," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Contact.date:"})," ",t.users.Date," "]}),Object(h.jsx)("div",{children:Object(h.jsx)(D,{onSelectMdv:this.handleMdv,ref:"mdvlist",userid:t.users.id})}),Object(h.jsx)("div",{children:Object(h.jsxs)("select",{onChange:function(n){return e.ChangeStatus(n.target.value,t.users.Last_Name,e.state.mdv,t.users.id)},children:[Object(h.jsx)("option",{value:"dafault",children:"choississez un status"}),Object(h.jsx)("option",{value:"pay\xe9_MDV",children:"pay\xe9 MDV"}),Object(h.jsx)("option",{value:"r\xe9cup\xe9r\xe9",children:"r\xe9cup\xe9r\xe9"}),Object(h.jsx)("option",{value:"Exp\xe9di\xe9",children:"Exp\xe9di\xe9"})]})}),Object(h.jsx)("div",{children:Object(h.jsx)(E,{ref:"numsuivi",userid:t.users.id,cmd:t.users.avancement_cmd})}),Object(h.jsx)(F,{ref:"mail",mail:t.users.Email,object:this.state.object,text:this.state.text,status:this.state.status,userid:t.users.id}),Object(h.jsx)(w,{})]})}}]),n}(s.Component),B=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.handleAuthentication();case 2:this.props.history.replace("/");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(h.jsx)("p",{children:"Loading profile..."})}}]),n}(s.Component),L=Object(a.f)(B),V=(n.p,function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){f.isAuthenticated()||f.signIn()}},{key:"render",value:function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)("header",{className:"App-header",children:[Object(h.jsx)(x,{}),f.isAuthenticated()&&Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{className:"mr-2 text-white",children:f.getProfile().name}),Object(h.jsx)("br",{})]})]})})}}]),n}(s.Component));var U=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("h1",{children:"Application"}),Object(h.jsx)(o.a,{children:Object(h.jsxs)(a.c,{children:[Object(h.jsx)(a.a,Object(c.a)({exact:!0,path:"/",component:V},"exact",!0)),Object(h.jsx)(a.a,Object(c.a)({exact:!0,path:"/callback",component:L},"exact",!0)),Object(h.jsx)(a.a,{path:"/dashboard",children:Object(h.jsx)(g,{})}),Object(h.jsx)(a.a,{path:"/preferences",children:Object(h.jsx)(y,{})}),Object(h.jsx)(a.a,{path:"/contact",children:Object(h.jsx)(P,{})}),Object(h.jsx)(a.a,{path:"/mail",children:Object(h.jsx)(F,{})}),Object(h.jsx)(a.a,{path:"/suivicoli",children:Object(h.jsx)(m,{})}),Object(h.jsxs)(a.a,{path:"/mdvlist",children:[Object(h.jsx)(D,{}),Object(h.jsx)(a.a,{path:"/numsuivi",children:Object(h.jsx)(E,{})})]}),Object(h.jsx)(a.a,{exact:!0,path:"/view-contact-details/:id",component:T})]})})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,95)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),s(e),i(e),r(e),c(e)}))};r.a.render(Object(h.jsx)(o.a,{children:Object(h.jsx)(U,{})}),document.getElementById("root")),I()}},[[94,1,2]]]);
//# sourceMappingURL=main.1da3c4cd.chunk.js.map